---
import BaseLayout from './BaseLayout.astro'

interface Props {
  title: string
  subtitle: string
  description: string
  heroImg?: string
  features: Array<{ title: string; description: string }>
  faqs?: Array<{ question: string; answer: string }>
}

const { title, subtitle, description, heroImg, features, faqs = [] } = Astro.props
---

<BaseLayout title={title} description={subtitle}>
  <!-- Hero -->
  <div class="w-full bg-gradient-to-b from-indigo-50 to-white py-16 px-6">
    <div class="max-w-4xl mx-auto text-center">
      {heroImg && <img src={heroImg} alt="" class="w-24 h-24 mx-auto mb-6" />}
      <h1 class="text-3xl md:text-4xl font-medium text-gray-800 mb-4">{title}</h1>
      <p class="text-lg text-gray-600 mb-6">{subtitle}</p>
      <div class="prose prose-gray mx-auto" set:html={description} />

      <div class="flex flex-col sm:flex-row gap-4 justify-center mt-8">
        <a
          href="/book-demo/"
          class="inline-flex items-center px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors"
        >
          Book a Demo
        </a>
        <a
          href="/contact-us"
          class="inline-flex items-center px-6 py-3 border border-indigo-600 text-indigo-600 font-medium rounded-lg hover:bg-indigo-50 transition-colors"
        >
          Contact Us
        </a>
      </div>
    </div>
  </div>

  <!-- Features Grid -->
  <div class="w-full py-16 px-6">
    <div class="max-w-5xl mx-auto">
      <div class="grid md:grid-cols-2 gap-8">
        {
          features.map((feature) => (
            <div class="text-left">
              <h3 class="text-xl font-medium text-gray-800 mb-3" set:html={feature.title} />
              <p class="text-gray-600">{feature.description}</p>
            </div>
          ))
        }
      </div>
    </div>
  </div>

  <!-- Additional Content -->
  <slot />

  <!-- FAQ Section -->
  {
    faqs.length > 0 && (
      <div class="w-full bg-gray-50 py-16 px-6">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-2xl md:text-3xl font-medium text-center mb-10">
            Frequently Asked Questions
          </h2>
          <div class="space-y-4">
            {faqs.map((faq) => (
              <details class="group bg-white rounded-lg border border-gray-200 p-4">
                <summary class="flex justify-between items-center cursor-pointer list-none font-medium text-gray-800">
                  {faq.question}
                  <span class="i-heroicons-chevron-down text-gray-400 group-open:rotate-180 transition-transform" />
                </summary>
                <p class="mt-4 text-gray-600">{faq.answer}</p>
              </details>
            ))}
          </div>
        </div>
      </div>
    )
  }

  <!-- CTA -->
  <div class="w-full py-16 px-6 bg-indigo-600">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-2xl md:text-3xl font-medium text-white mb-4">Ready to get started?</h2>
      <p class="text-indigo-100 mb-8">
        See how FlowFuse can transform your industrial operations.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a
          href="/get-started/"
          class="inline-flex items-center px-6 py-3 bg-white text-indigo-600 font-medium rounded-lg hover:bg-indigo-50 transition-colors"
        >
          Start Free Trial
        </a>
        <a
          href="/book-demo/"
          class="inline-flex items-center px-6 py-3 border border-white text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors"
        >
          Book a Demo
        </a>
      </div>
    </div>
  </div>
</BaseLayout>
